<!-- Main content -->
<section class="content">
    <div class="row">
        <div class="col-md-3">
            <!-- Profile Image -->
            <div class="box box-primary">
                <div class="box-body box-profile">
                    <img class="profile-user-img img-responsive img-circle" src="../../dist/img/user4-128x128.jpg" alt="User profile picture">
                    <h3 class="profile-username text-center">{{student.profile.full_name}}</h3>
                    <p class="text-muted text-center">{{student.nationality.nationality_name}}</p>
                    <ul class="list-group list-group-unbordered">
                        <li class="list-group-item">
                            <b>ID</b> <a class="pull-right">{{student.id}}</a>
                        </li>
                        <li class="list-group-item">
                            <b>Course</b> <a class="pull-right">{{student.course.course_name}}</a>
                        </li>
                        <li class="list-group-item">
                            <b>Batch</b> <a class="pull-right">{{student.batch.title}}</a>
                        </li>
                        <li class="list-group-item">
                            <b>Email ID</b> <a class="pull-right">{{student.profile.stu_email_id}}</a>
                        </li>
                        <li class="list-group-item">
                            <b>Mobile No</b> <a class="pull-right">{{student.profile.stu_mobile_no}}</a>
                        </li>
                        <li class="list-group-item">
                            <b>Status</b>
                            <a class="pull-right">
                                <span class="label label-success" ng-if="student.stu_master_id">active</span>
                                <span class="label label-danger" ng-if="!student.stu_master_id">inactive</span>
                            </a>
                        </li>
                    </ul>
                </div>
                <!-- /.box-body -->
            </div>
            <!-- /.box -->
        </div>
        <!-- /.col -->
        <div class="col-md-9">
            <div class="nav-tabs-custom">
                <ul class="nav nav-tabs">
                    <li class="active"><a href="#personal" data-toggle="tab">Personal</a></li>
                    <li><a href="#Academic" data-toggle="tab">Academic</a></li>
                    <li><a href="#Fee" data-toggle="tab">Fee</a></li>
                </ul>
                <div class="tab-content">
                    <div class="active tab-pane" id="personal">
                        <div class="row">
                            <div class="col-md-6">
                                <ul class="list-group list-group-unbordered">
                                    <li class="list-group-item">
                                        <b>Title</b> <a class="pull-right">{{student.profile.stu_title}}</a>
                                    </li>
                                    <li class="list-group-item">
                                        <b>First Name</b> <a class="pull-right">{{student.profile.stu_first_name}}</a>
                                    </li>
                                    <li class="list-group-item">
                                        <b>Middle Name</b> <a class="pull-right">{{student.profile.stu_middle_name}}</a>
                                    </li>
                                    <li class="list-group-item">
                                        <b>Gender</b> <a class="pull-right">{{student.profile.stu_gender}}</a>
                                    </li>
                                    <li class="list-group-item">
                                        <b>Date of Birth</b> <a class="pull-right">{{student.profile.stu_dob}}</a>
                                    </li>
                                </ul>
                            </div>
                            <div class="col-md-6">
                                <ul class="list-group list-group-unbordered">
                                    <li class="list-group-item">
                                        <b>  &nbsp;</b>
                                        <a class="pull-right"></a>
                                    </li>
                                    <li class="list-group-item">
                                        <b>Last Name</b> <a class="pull-right">{{student.profile.stu_last_name}}</a>
                                    </li>
                                    <li class="list-group-item">
                                        <b>Country</b> <a class="pull-right">{{student.profile.country}}</a>
                                    </li>
                                    <li class="list-group-item">
                                        <b>Email ID</b> <a class="pull-right">{{student.profile.stu_email_id}}</a>
                                    </li>
                                    <li class="list-group-item">
                                        <b>Mobile No</b> <a class="pull-right">{{student.profile.stu_mobile_no}}</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="tab-pane" id="Academic">
                        <div class="row">
                            <div class="col-md-12">
                                <ul class="list-group list-group-unbordered">
                                    <li class="list-group-item">
                                        <b>Course</b> <a class="pull-right">{{student.course.course_name}}</a>
                                    </li>
                                    <li class="list-group-item">
                                        <b>Batch</b> <a class="pull-right">{{student.batch.title}}</a>
                                    </li>
                                    <li class="list-group-item">
                                        <b>Admission Date</b> <a class="pull-right">{{student.profile.stu_admission_date}}</a>
                                    </li>
                                    <li class="list-group-item">
                                        <b>Status</b>
                                        <a class="pull-right">
                                            <span class="label label-success" ng-if="student.stu_master_id">active</span>
                                            <span class="label label-danger" ng-if="!student.stu_master_id">inactive</span>
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="tab-pane" id="Fee">
                        <div class="box">
                            <div class="box-header with-border">
                                <div class="alert alert-success alert-dismissible" ng-if="!student.fee_details.fee_due">
                                    <button type="button" class="close" data-dismiss="alert" aria-hidden="true">Ã—</button>
                                    <h4><i class="icon fa fa-check"></i> Success!</h4> No dues
                                </div>
                                <h3 class="box-title">Current Fees Details</h3>
                            </div>
                            <!-- /.box-header -->
                            <div class="box-body">
                                <div class="table-responsive">
                                    <table class="table table-striped table-bordered ">
                                        <thead>
                                            <tr>
                                                <th>#</th>
                                                <th>Fees Details</th>
                                                <th>Total Amount</th>
                                                <th>Total Paid Fees</th>
                                                <th>Due Amount</th>
                                                <th>Due Date</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr data-key="6">
                                                <td>1</td>
                                                <td>{{student.fee_details.fee_description}}</td>
                                                <td>{{student.fee_details.fee_total}}</td>
                                                <td>{{student.fee_details.fee_paid}}</td>
                                                <td>{{student.fee_details.fee_due}}</td>
                                                <td>{{student.fee_details.fee_due_date}} - {{ student.fee_details.fee_due_date | date : 'yyyy-mm-dd' : timezone}}
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <!-- /.box-body -->
                            <div class="box-footer clearfix" ng-if="student.fee_details.fee_due">
                                <a class="btn btn-primary" role="button" data-toggle="collapse" href="#collapseExample" aria-expanded="false" aria-controls="collapseExample">
                                    <i class="fa fa-plus"></i> Add Payment
                                </a>
                            </div>
                        </div>
                        <div class="box collapse" id="collapseExample" ng-if="student.fee_details.fee_due">
                            <div class="box-header with-border">
                                <h3 class="box-title">Fee Collection</h3>
                            </div>
                            <div class="box-body">
                                <form name="tdFormAddPayment" novalidate>
                                    <div class="row">
                                        <div class="col-md-2 form-group" ng-class="{'has-error':tdFormAddPayment.date.$invalid && tdFormAddPayment.date.$dirty,'':tdFormAddPayment.date.$pristine, 'has-success':tdFormAddPayment.date.$valid}">
                                            <div class="input-group">
                                                <input type="text" class="form-control" name="date" uib-datepicker-popup="{{format}}" ng-model="payment.date" is-open="popup1.opened" datepicker-options="dateOptions" ng-required="true" close-text="Close" alt-input-formats="altInputFormats" />
                                                <span class="input-group-btn">
                            <button type="button" class="btn btn-default" ng-click="open1()"><i class="glyphicon glyphicon-calendar"></i></button>
                          </span>
                                            </div>
                                        </div>
                                        <div class="col-md-2 form-group" ng-class="{'has-error':tdFormAddPayment.method.$invalid && tdFormAddPayment.method.$dirty,'':tdFormAddPayment.method.$pristine, 'has-success':tdFormAddPayment.method.$valid}">
                                            <select class="form-control" ng-options="option as  option.title for option in paymentMethods" ng-model="payment.method" name="method" required>
                                                <option value="">Select Mode</option>
                                            </select>
                                        </div>
                                        <div class="col-md-3 form-group" ng-class="{'has-error':tdFormAddPayment.type.$invalid && tdFormAddPayment.type.$dirty,'':tdFormAddPayment.type.$pristine, 'has-success':tdFormAddPayment.type.$valid}">
                                            <select class="form-control" ng-options="option as  option.title for option in paymentTypes" ng-model="payment.type" name="type" required>
                                                <option value="">Select Account</option>
                                            </select>
                                        </div>
                                        <div class="col-md-2 form-group" ng-class="{'has-error':tdFormAddPayment.ammount.$invalid && tdFormAddPayment.ammount.$dirty,'':tdFormAddPayment.ammount.$pristine, 'has-success':tdFormAddPayment.ammount.$valid}">
                                            <input type="number" min="0" max="{{student.fee_details.fee_due}}" class="form-control" placeholder="Amount" name="ammount" ng-model="payment.amount" required>
                                        </div>
                                        <div class="col-md-2 form-group" ng-class="{'has-error':tdFormAddPayment.due_date.$invalid && tdFormAddPayment.due_date.$dirty,'':tdFormAddPayment.due_date.$pristine, 'has-success':tdFormAddPayment.due_date.$valid}">
                                            <div class="input-group">
                                                <input type="text" class="form-control" name="due_date" uib-datepicker-popup="{{format}}" ng-model="payment.due_date" is-open="popup2.opened" datepicker-options="dateOptions2" ng-required="true" close-text="Close" alt-input-formats="altInputFormats" />
                                                <span class="input-group-btn">
                            <button type="button" class="btn btn-default" ng-click="open2()"><i class="glyphicon glyphicon-calendar"></i></button>
                          </span>
                                            </div>
                                        </div>
                                        <div class="col-md-1">
                                            <button type="submit" ng-disabled="!tdFormAddPayment.$valid" class="btn btn-primary btn-block" ng-click="addPayment(payment)">Add </button>
                                        </div>
                                    </div>
                                </form>
                            </div>
                            <!-- /.box-body -->
                        </div>
                        <div class="box">
                            <div class="box-header with-border">
                                <h3 class="box-title">Student Payment History</h3>
                            </div>
                            <!-- /.box-header -->
                            <div class="box-body">
                              <div class="table-responsive">
                                <table class="table table-striped table-bordered " ng-init="itemTotal=0">
                                    <thead>
                                        <tr>
                                            <th>#</th>
                                            <th>Receipt No.</th>
                                            <th>Payment Date</th>
                                            <th>Payment Mode</th>
                                            <th>Payment Method</th>
                                            <th>Amount</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr data-key="7" ng-repeat="payment in student.payment">
                                            <td>{{$index + 1}}</td>
                                            <td>{{payment.id}}</td>
                                            <td>{{payment.payment_date}}</td>
                                            <td>{{payment.method.title}}</td>
                                            <td>{{payment.type.title}}</td>
                                            <td ng-init="itemTotal += payment.amount">{{payment.amount}}</td>
                                        </tr>
                                    </tbody>
                                    <tfoot>
                                        <tr data-key="7">
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                            <td>Total</td>
                                            <td>{{student.fee_details.fee_paid}}</td>
                                        </tr>
                                    </tfoot>
                                </table>
                              </div>
                            </div>
                            <!-- /.box-body -->
                            <div class="box-footer clearfix">
                            </div>
                        </div>
                    </div>
                    <!-- /.tab-pane -->
                </div>
                <!-- /.tab-content -->
            </div>
            <!-- /.nav-tabs-custom -->
        </div>
        <!-- /.col -->
    </div>
    <!-- /.row -->
</section>
<!-- /.content -->
